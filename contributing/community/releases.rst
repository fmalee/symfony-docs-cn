发布流程
===================

本文档解释了Symfony项目开发、发布和维护其不同版本所遵循的流程。

Symfony版本遵循 `语义版本控制`_ 策略，并通过 *基于时间的模型* 发布：

* 一个新的 **Symfony补丁版本** （例如2.8.15、4.1.7）每个月都会发行。
  它只包含Bug修复，因此你可以安全地升级你的应用;
* 一个新的 **Symfony次要版本** （例如2.8、3.2、4.1）每六个月会发行：一个在五月，一个在十一月。
  它包含Bug修复和新功能，但它不包含任何重大更改，因此你可以安全地升级你的应用;
* 一个新的 **Symfony主要版本** （如3.0、4.0）每2年会发行。
  它可能包含重大更改，因此你可能需要在升级之前对应用进行一些更改。

.. tip::

    `订阅Symfony路线图通知`_，以便在发布新的Symfony版本或Symfony版本达到其使用寿命时收到邮件通知。

.. _contributing-release-development:

开发
-----------

任何主要版本或次要版本的完整开发周期为六个月，分为两个阶段：

* **开发**: 用 *四个月* 时间增加新功能并增强现有功能;

* **稳定**: 用 *两个月* 来修复错误，发布准备，并等待整个Symfony生态系统
  （第三方库、bundles以及使用Symfony的项目）的适配。

在开发阶段，任何新功能如果不能及时完成或者如果它不够稳定以包含在当前最终版本中，则可能会回滚(reverted)。

.. tip::

    查看 `Symfony路线图`_，了解有关任何特定版本的更多信息。

.. _contributing-release-maintenance:
.. _symfony-versions:
.. _releases-lts:

维护
-----------

从Symfony 3.x分支开始，次要版本的数量限制为每个分支五个（X.0、X.1、X.2、X.3和X.4）。
分支的最后一个次要版本（例如3.4、4.4、5.4）被视为 **长期支持版本**，其他版本被视为 **标准版本**：

=======================  =====================  ================================
版本类型                    Bug修复期...           安全问题修复期...
=======================  =====================  ================================
标准                       8个月                  14个月
长期支持版本(LTS)           3年                    4年
=======================  =====================  ================================

.. note::

    在一个Symfony版本的主动维护结束后，你可以从赞助Symfony项目的公司SensioLabs那获得 `专业的Symfony支持`_。

.. _deprecations:

向后兼容性
----------------------

我们的 :doc:`向后兼容性承诺 </contributing/code/bc>` 非常严格，允许开发人员从容地从Symfony的一个次要版本升级到下一个版本。

如果一个新功能无法在不破坏向后兼容性的情况下用更好的来替代，Symfony会弃用旧实现并添加新的首选实现。
阅读 :ref:`公约 <contributing-code-conventions-deprecations>` 文档，
了解有关如何在Symfony中处理旧功能(deprecations)的更多信息。

理由
---------

采用此发布流程可提供更高的 *可预测性* 和 *透明度*。它是基于以下目标进行讨论的：

* 缩短发布周期（允许开发人员更快地从新功能中受益）;
* 给使用框架的开发者和使用Symfony的开源项目提供更多的曝光度(visibility);
* 改善Symfony核心贡献者的体验：每个人都知道Symfony中何时可以使用某个功能;
* 协调Symfony与流行的PHP项目的时间表，这些项目与Symfony以及使用Symfony的项目相得益彰;
* 给Symfony生态系统留出时间来赶上新版本（bundle作者，文档编写者，翻译者......）;
* 为公司提供严格且可预测的时间表，他们可以依赖这些时间表来规划自己的项目开发。

选择六个月为周期，可以两个版本就布满(fit)一年。
它还允许有足够的时间处理新功能，并允许将非就绪功能推迟到下一版本，而无需为下一个周期等待太长时间。

采用双重维护模式，让每个Symfony用户都满意。
想要使用最新版本和最好版本的快速推送者使用标准版本：每六个月发布一个新版本，并且有两个月的升级时间。
想要更稳定的公司使用LTS版本：每两年发布一个新版本，有一年的升级时间。

.. _`语义版本控制`: https://semver.org/
.. _`订阅Symfony路线图通知`: https://symfony.com/account
.. _`Symfony路线图`: https://symfony.com/roadmap#checker
.. _`专业的Symfony支持`: https://sensiolabs.com/
